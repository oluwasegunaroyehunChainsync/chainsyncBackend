# ============================================
# ChainSync Backend - Production Configuration
# ============================================
# IMPORTANT: Replace all placeholder values before deployment!
# Never commit this file with real secrets to version control.

# Application
NODE_ENV=production
PORT=3001
APP_NAME=ChainSync

# Database (PostgreSQL with SSL)
# Use a managed database service (AWS RDS, Supabase, PlanetScale, etc.)
DATABASE_URL=postgresql://chainsync_user:CHANGE_THIS_PASSWORD@your-db-host.com:5432/chainsync_prod?sslmode=require

# JWT Configuration
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=GENERATE_A_NEW_64_CHAR_HEX_SECRET_HERE
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=7d

# Blockchain RPC URLs (Use Alchemy or dedicated RPC providers)
# Sign up at https://www.alchemy.com/ for production-grade RPC
ETHEREUM_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
ARBITRUM_RPC_URL=https://arb-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
OPTIMISM_RPC_URL=https://opt-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Testnet RPCs (for staging environment)
SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
ARBITRUM_SEPOLIA_RPC_URL=https://arb-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Smart Contract Addresses (MAINNET - Update after deployment)
CHAINSYNC_CONTRACT_ADDRESS=0x_MAINNET_CHAINSYNC_ADDRESS
VALIDATOR_REGISTRY_ADDRESS=0x_MAINNET_VALIDATOR_REGISTRY_ADDRESS
GOVERNANCE_ADDRESS=0x_MAINNET_GOVERNANCE_ADDRESS
CST_TOKEN_ADDRESS=0x_MAINNET_CST_TOKEN_ADDRESS

# Fee Configuration
BASE_FEE_PERCENTAGE=0.25
CROSS_CHAIN_FEE_PERCENTAGE=0.5
MINIMUM_FEE_AMOUNT=0.001

# Validator Configuration
MINIMUM_STAKE_AMOUNT=100
VALIDATOR_THRESHOLD=3

# CORS - Production domain only (no trailing slash)
CORS_ORIGIN=https://app.chainsync.io,https://chainsync.io

# Logging
LOG_LEVEL=info

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Event Listeners (enable with paid RPC providers)
ENABLE_EVENT_LISTENERS=true
EVENT_LISTENER_POLL_INTERVAL=30000

# Redis Cache (Use managed Redis - AWS ElastiCache, Upstash, etc.)
REDIS_URL=redis://:REDIS_PASSWORD@your-redis-host.com:6379
CACHE_TTL=3600

# Swagger API Docs (disable in production or protect with auth)
ENABLE_SWAGGER=false
